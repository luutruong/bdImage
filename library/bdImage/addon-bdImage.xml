<?xml version="1.0" encoding="utf-8"?>
<addon addon_id="bdImage" title="[bd] Image" version_string="1.2.1" version_id="1020100" url="" install_callback_class="bdImage_Installer" install_callback_method="install" uninstall_callback_class="bdImage_Installer" uninstall_callback_method="uninstall">
  <admin_navigation/>
  <admin_permissions/>
  <admin_style_properties/>
  <admin_templates>
    <template title="bdimage_widget_options_attachments_grid"><![CDATA[<xen:spinboxunit label="{xen:phrase bdimage_rows}:" name="{$namePrefix}grid_rows" value="{xen:if '!empty({$options.grid_rows})', $options.grid_rows, 4}" />
<xen:spinboxunit label="{xen:phrase bdimage_columns}:" name="{$namePrefix}grid_columns" value="{xen:if '!empty({$options.grid_columns})', $options.grid_columns, 4}" />

<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_width}" name="{$namePrefix}thumbnail_width" value="{xen:if 'isset({$options.thumbnail_width})', {$options.thumbnail_width}, 50}" min="1" step="25" />
<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_height}" name="{$namePrefix}thumbnail_height" value="{xen:if 'isset({$options.thumbnail_height})', {$options.thumbnail_height}, 50}" min="1" step="25" />
<xen:spinboxunit label="{xen:phrase bdimage_gap}" name="{$namePrefix}gap" value="{xen:if 'isset({$options.gap})', {$options.gap}, 5}" min="1" step="5" />

<xen:selectunit label="{xen:phrase wf_threads_forums}:" name="{$namePrefix}forums" value="" size="5" multiple="true" inputclass="textCtrl">
	<xen:options source="$forums" />
	<xen:explain>{xen:phrase wf_threads_forums_explain} {xen:phrase wf_special_forums_explain}</xen:explain>
</xen:selectunit>

<xen:checkboxunit label="">
	<xen:option name="{$namePrefix}as_guest" value="1" selected="{$options.as_guest}">{xen:phrase wf_use_guest_permissions}</xen:option>
</xen:checkboxunit>
]]></template>
    <template title="bdimage_widget_options_slider_threads"><![CDATA[<xen:include template="wf_widget_options_threads" />

<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_width}" name="{$namePrefix}thumbnail_width" value="{xen:if 'isset({$options.thumbnail_width})', {$options.thumbnail_width}, 100}" min="1" step="50" />
<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_height}" name="{$namePrefix}thumbnail_height" value="{xen:if 'isset({$options.thumbnail_height})', {$options.thumbnail_height}, 100}" min="1" step="50" />
<xen:spinboxunit label="{xen:phrase title}" name="{$namePrefix}title" value="{xen:if 'isset({$options.title})', {$options.title}, 50}" min="0" step="25" />

<xen:spinboxunit label="{xen:phrase bdimage_gap}" name="{$namePrefix}gap" value="{xen:if 'isset({$options.gap})', {$options.gap}, 10}" min="1" step="10" />
<xen:spinboxunit label="{xen:phrase bdimage_visible_count}" name="{$namePrefix}visible_count" value="{xen:if 'isset({$options.visible_count})', {$options.visible_count}, 1}" min="1" />]]></template>
    <template title="bdimage_widget_options_slider_threads_2"><![CDATA[<xen:include template="wf_widget_options_threads" />

<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_width}" name="{$namePrefix}thumbnail_width" value="{xen:if 'isset({$options.thumbnail_width})', {$options.thumbnail_width}, 400}" min="1" step="50" />
<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_height}" name="{$namePrefix}thumbnail_height" value="{xen:if 'isset({$options.thumbnail_height})', {$options.thumbnail_height}, 300}" min="1" step="50" />
<xen:spinboxunit label="{xen:phrase title}" name="{$namePrefix}title" value="{xen:if 'isset({$options.title})', {$options.title}, 50}" min="0" step="25" />

<input type="hidden" name="{$namePrefix}auto" value="0" />
<input type="hidden" name="{$namePrefix}pager" value="0" />
<xen:checkboxunit label="" name="{$namePrefix}title">
	<xen:option name="{$namePrefix}auto" value="1" selected="{xen:if 'isset({$options.auto})', {$options.auto}, 0}">{xen:phrase bdimage_auto_play}</xen:option>
	<xen:option name="{$namePrefix}pager" value="1" selected="{xen:if 'isset({$options.pager})', {$options.pager}, 0}">{xen:phrase bdimage_show_pager}</xen:option>
</xen:checkboxunit>
]]></template>
    <template title="bdimage_widget_options_threads"><![CDATA[<xen:include template="wf_widget_options_threads" />

<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_width}" name="{$namePrefix}thumbnail_width" value="{xen:if 'isset({$options.thumbnail_width})', {$options.thumbnail_width}, 100}" min="1" step="50" />
<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_height}" name="{$namePrefix}thumbnail_height" value="{xen:if 'isset({$options.thumbnail_height})', {$options.thumbnail_height}, 100}" min="1" step="50" />
<xen:spinboxunit label="{xen:phrase bdimage_gap}" name="{$namePrefix}gap" value="{xen:if 'isset({$options.gap})', {$options.gap}, 10}" min="1" step="10" />]]></template>
    <template title="bdimage_widget_options_threads_grid"><![CDATA[<xen:include template="wf_widget_options_threads" />

<xen:spinboxunit label="{xen:phrase bdimage_columns}:" name="{$namePrefix}grid_columns" value="{xen:if '!empty({$options.grid_columns})', $options.grid_columns, 5}" />

<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_width}" name="{$namePrefix}thumbnail_width" value="{xen:if 'isset({$options.thumbnail_width})', {$options.thumbnail_width}, 50}" min="1" step="25" />
<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_height}" name="{$namePrefix}thumbnail_height" value="{xen:if 'isset({$options.thumbnail_height})', {$options.thumbnail_height}, 50}" min="1" step="25" />
<xen:spinboxunit label="{xen:phrase bdimage_gap}" name="{$namePrefix}gap" value="{xen:if 'isset({$options.gap})', {$options.gap}, 5}" min="1" step="5" />
]]></template>
    <template title="bdimage_widget_options_threads_two"><![CDATA[<xen:include template="wf_widget_options_threads" />

<xen:spinboxunit label="{xen:phrase bdimage_feature_width}" name="{$namePrefix}feature_width" value="{xen:if 'isset({$options.feature_width})', {$options.feature_width}, 300}" min="1" step="100" />
<xen:spinboxunit label="{xen:phrase bdimage_feature_height}" name="{$namePrefix}feature_height" value="{xen:if 'isset({$options.feature_height})', {$options.feature_height}, 200}" min="1" step="100" />
<xen:spinboxunit label="{xen:phrase bdimage_feature_body}" name="{$namePrefix}feature_body" value="{xen:if 'isset({$options.feature_body})', {$options.feature_body}, 0}" min="0" step="50" />

<xen:spinboxunit label="{xen:phrase bdimage_small_size}" name="{$namePrefix}small_size" value="{xen:if 'isset({$options.small_size})', {$options.small_size}, 0}" min="0" step="50" />
<xen:spinboxunit label="{xen:phrase bdimage_small_title}" name="{$namePrefix}small_title" value="{xen:if 'isset({$options.small_title})', {$options.small_title}, 50}" min="1" step="25" />
<xen:spinboxunit label="{xen:phrase bdimage_small_column_width}" name="{$namePrefix}small_column_width" value="{xen:if 'isset({$options.small_column_width})', {$options.small_column_width}, 150}" min="1" step="50" explain="{xen:phrase bdimage_small_column_explain}" />

<xen:spinboxunit label="{xen:phrase bdimage_column_gap}" name="{$namePrefix}column_gap" value="{xen:if 'isset({$options.column_gap})', {$options.column_gap}, 10}" min="1" step="10" />
<xen:spinboxunit label="{xen:phrase bdimage_row_gap}" name="{$namePrefix}row_gap" value="{xen:if 'isset({$options.row_gap})', {$options.row_gap}, 3}" min="1" step="5" />

]]></template>
  </admin_templates>
  <admin_template_modifications/>
  <code_events/>
  <code_event_listeners>
    <listener event_id="file_health_check" execute_order="10" callback_class="bdImage_Listener" callback_method="file_health_check" active="1" hint="" description=""/>
    <listener event_id="init_dependencies" execute_order="10" callback_class="bdImage_Listener" callback_method="init_dependencies" active="1" hint="" description=""/>
    <listener event_id="load_class" execute_order="10" callback_class="bdImage_Listener" callback_method="load_class" active="1" hint="" description=""/>
    <listener event_id="load_class_model" execute_order="10" callback_class="bdImage_Listener" callback_method="load_class_model" active="1" hint="" description=""/>
    <listener event_id="template_hook" execute_order="10" callback_class="bdImage_Listener" callback_method="template_hook" active="1" hint="" description=""/>
    <listener event_id="widget_framework_ready" execute_order="10" callback_class="bdImage_Listener" callback_method="widget_framework_ready" active="1" hint="" description=""/>
  </code_event_listeners>
  <cron>
    <entry entry_id="bdImage_pruneFiles" cron_class="bdImage_CronEntry_CleanUp" cron_method="pruneFiles" active="1"><![CDATA[{"day_type":"dow","dow":["0"],"hours":["5"],"minutes":["6"]}]]></entry>
  </cron>
  <email_templates/>
  <email_template_modifications/>
  <optiongroups>
    <group group_id="bdImage" display_order="9999" debug_only="0"/>
    <option option_id="bdImage_allAttachments" edit_format="onoff" data_type="unsigned_integer" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="bdImage" display_order="1050"/>
    </option>
    <option option_id="bdImage_fallbackImages" edit_format="textbox" data_type="string" can_backup="1">
      <default_value>styles/default/xenforo/logo.og.png
styles/default/xenforo/logo.png</default_value>
      <edit_format_params>rows=5</edit_format_params>
      <sub_options></sub_options>
      <relation group_id="bdImage" display_order="3000"/>
    </option>
    <option option_id="bdImage_fileTtlDays" edit_format="spinbox" data_type="unsigned_integer" can_backup="1">
      <default_value>28</default_value>
      <edit_format_params>min=0
step=14</edit_format_params>
      <sub_options></sub_options>
      <relation group_id="bdImage" display_order="3000"/>
    </option>
    <option option_id="bdImage_template" edit_format="checkbox" data_type="array" can_backup="1">
      <default_value></default_value>
      <edit_format_params>thread_list_item_thread_image = {xen:phrase bdimage_template_thread_list_item_thread_image}
thread_view_open_graph_meta = {xen:phrase bdimage_template_thread_view_open_graph_meta}
node_forum_last_thread_image = {xen:phrase bdimage_template_node_forum_last_thread_image}
search_result_thread_image = {xen:phrase bdimage_template_search_result_thread_image}
wf_widget_threads_thread_image = {xen:phrase bdimage_template_wf_widget_threads_thread_image}
picker = {xen:phrase bdimage_template_picker}</edit_format_params>
      <sub_options>*</sub_options>
      <relation group_id="bdImage" display_order="2000"/>
    </option>
    <option option_id="bdImage_threadAuto" edit_format="onoff" data_type="unsigned_integer" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="bdImage" display_order="1010"/>
    </option>
  </optiongroups>
  <permissions>
    <permission_groups/>
    <permissions/>
    <interface_groups/>
  </permissions>
  <phrases>
    <phrase title="bdimage_auto_play" version_id="24" version_string="1.0.1"><![CDATA[Auto Play]]></phrase>
    <phrase title="bdimage_columns" version_id="18" version_string="0.9.7b"><![CDATA[Columns]]></phrase>
    <phrase title="bdimage_column_gap" version_id="14" version_string="0.9.5"><![CDATA[Column Gap]]></phrase>
    <phrase title="bdimage_discussion_in_x_started_by_y_date_z_replies_m_views_n" version_id="30" version_string="1.0.4"><![CDATA[Discussion in '{forum}' started by {name}, {date}. Replies: {replies}. Views: {views}.]]></phrase>
    <phrase title="bdimage_feature_body" version_id="14" version_string="0.9.5"><![CDATA[Display first post message of the feature thread]]></phrase>
    <phrase title="bdimage_feature_height" version_id="14" version_string="0.9.5"><![CDATA[Feature Image Height]]></phrase>
    <phrase title="bdimage_feature_width" version_id="14" version_string="0.9.5"><![CDATA[Feature Image Width]]></phrase>
    <phrase title="bdimage_gap" version_id="10" version_string="0.9-dev"><![CDATA[Gap (between thumbnails)]]></phrase>
    <phrase title="bdimage_is_cover" version_id="30" version_string="1.0.4"><![CDATA[Render as thread top cover image]]></phrase>
    <phrase title="bdimage_rows" version_id="18" version_string="0.9.7b"><![CDATA[Rows]]></phrase>
    <phrase title="bdimage_row_gap" version_id="14" version_string="0.9.5"><![CDATA[Row Gap]]></phrase>
    <phrase title="bdimage_show_pager" version_id="24" version_string="1.0.1"><![CDATA[Show Pager]]></phrase>
    <phrase title="bdimage_small_column_explain" version_id="14" version_string="0.9.5"><![CDATA[Set the size of the second column to control how it show up next to the feature thread. To disable thumbnail for this column, choose 0 as the thumbnail size.]]></phrase>
    <phrase title="bdimage_small_column_width" version_id="14" version_string="0.9.5"><![CDATA[Second Column Width]]></phrase>
    <phrase title="bdimage_small_size" version_id="14" version_string="0.9.5"><![CDATA[Second Column Thumbnail Width]]></phrase>
    <phrase title="bdimage_small_title" version_id="14" version_string="0.9.5"><![CDATA[Second Column Title]]></phrase>
    <phrase title="bdimage_template_node_forum_last_thread_image" version_id="14" version_string="0.9.5"><![CDATA[Last Thread Image in Forum List]]></phrase>
    <phrase title="bdimage_template_picker" version_id="1020001" version_string="1.2.0"><![CDATA[Thread Image Pickers]]></phrase>
    <phrase title="bdimage_template_search_result_thread_image" version_id="14" version_string="0.9.5"><![CDATA[Thread Image in search result]]></phrase>
    <phrase title="bdimage_template_thread_list_item_thread_image" version_id="14" version_string="0.9.5"><![CDATA[Thread Image in Thread List]]></phrase>
    <phrase title="bdimage_template_thread_view_open_graph_meta" version_id="30" version_string="1.0.4"><![CDATA[Open Graph Image in Thread View]]></phrase>
    <phrase title="bdimage_template_wf_widget_threads_thread_image" version_id="28" version_string="1.0.2b"><![CDATA[Thread image in [bd] Widget Framework Threads widget.]]></phrase>
    <phrase title="bdimage_thread_cover_image" version_id="30" version_string="1.0.4"><![CDATA[Cover Image]]></phrase>
    <phrase title="bdimage_thread_image" version_id="13" version_string="0.9.4"><![CDATA[Thread Image]]></phrase>
    <phrase title="bdimage_thumbnail_height" version_id="10" version_string="0.9-dev"><![CDATA[Thumbnail Height]]></phrase>
    <phrase title="bdimage_thumbnail_width" version_id="10" version_string="0.9-dev"><![CDATA[Thumbnail Width]]></phrase>
    <phrase title="bdimage_visible_count" version_id="10" version_string="0.9-dev"><![CDATA[Visible Thumbnails]]></phrase>
    <phrase title="cron_entry_bdImage_pruneFiles" version_id="23" version_string="1.0.0b"><![CDATA[[bd] Image: Prune Files]]></phrase>
    <phrase title="option_bdImage_allAttachments" version_id="20" version_string="0.10.0-dev"><![CDATA[Consider All Attachments for Image]]></phrase>
    <phrase title="option_bdImage_allAttachments_explain" version_id="20" version_string="0.10.0-dev"><![CDATA[By default, only attachments that are included in the message are considered to be the feature image of a piece of content. Enable this option to check for all attachments.]]></phrase>
    <phrase title="option_bdImage_fallbackImages" version_id="1010006" version_string="1.1.0"><![CDATA[Fallback Images]]></phrase>
    <phrase title="option_bdImage_fallbackImages_explain" version_id="1010006" version_string="1.1.0"><![CDATA[Enter paths to fallback images. They will be used when the requested image cannot be found or downloaded. The add-on will pick the one with the closest ratio to the requested width/height.]]></phrase>
    <phrase title="option_bdImage_fileTtlDays" version_id="23" version_string="1.0.0b"><![CDATA[File TTL]]></phrase>
    <phrase title="option_bdImage_fileTtlDays_explain" version_id="23" version_string="1.0.0b"><![CDATA[Enter number of days to keep files.]]></phrase>
    <phrase title="option_bdImage_template" version_id="14" version_string="0.9.5"><![CDATA[Template Modification]]></phrase>
    <phrase title="option_bdImage_template_explain" version_id="20" version_string="0.10.0-dev"><![CDATA[Tick the modifications you wish to apply automatically.]]></phrase>
    <phrase title="option_bdImage_threadAuto" version_id="30" version_string="1.0.4"><![CDATA[Thread: Auto-extract Image]]></phrase>
    <phrase title="option_bdImage_threadAuto_explain" version_id="30" version_string="1.0.4"><![CDATA[]]></phrase>
    <phrase title="option_group_bdImage" version_id="14" version_string="0.9.5"><![CDATA[[bd] Image]]></phrase>
    <phrase title="option_group_bdImage_description" version_id="14" version_string="0.9.5"><![CDATA[]]></phrase>
    <phrase title="style_property_bdImage_coverAvatar_description_master" version_id="30" version_string="1.0.4"><![CDATA[]]></phrase>
    <phrase title="style_property_bdImage_coverAvatar_master" version_id="30" version_string="1.0.4"><![CDATA[Avatar]]></phrase>
    <phrase title="style_property_bdImage_coverBg_description_master" version_id="30" version_string="1.0.4"><![CDATA[]]></phrase>
    <phrase title="style_property_bdImage_coverBg_master" version_id="30" version_string="1.0.4"><![CDATA[Text Container]]></phrase>
    <phrase title="style_property_bdImage_coverHidePageElements_description_master" version_id="30" version_string="1.0.4"><![CDATA[Enable this option to hide page elements such as the top breadcrumb, title bar, etc.]]></phrase>
    <phrase title="style_property_bdImage_coverHidePageElements_master" version_id="30" version_string="1.0.4"><![CDATA[Hide Page Elements]]></phrase>
    <phrase title="style_property_bdImage_coverPositionAboveTopBreadcrumb_description_master" version_id="30" version_string="1.0.4"><![CDATA[Cover will show up at the top of content block (next to sidebar, if available)]]></phrase>
    <phrase title="style_property_bdImage_coverPositionAboveTopBreadcrumb_master" version_id="30" version_string="1.0.4"><![CDATA[Positioning: Content Top]]></phrase>
    <phrase title="style_property_bdImage_coverPositionContentDirectChild_description_master" version_id="30" version_string="1.0.4"><![CDATA[Cover will span across the entire browser width.]]></phrase>
    <phrase title="style_property_bdImage_coverPositionContentDirectChild_master" version_id="30" version_string="1.0.4"><![CDATA[Positioning: Above Content]]></phrase>
    <phrase title="style_property_bdImage_cover_description_master" version_id="30" version_string="1.0.4"><![CDATA[]]></phrase>
    <phrase title="style_property_bdImage_cover_master" version_id="30" version_string="1.0.4"><![CDATA[Cover]]></phrase>
    <phrase title="style_property_bdImage_wfThreadsFull_imageHeight_description_master" version_id="28" version_string="1.0.2b"><![CDATA[Enter the image height for thumbnail used in [bd] Widget Framework's Threads widget (full layout). Leave it blank to stretch height.]]></phrase>
    <phrase title="style_property_bdImage_wfThreadsFull_imageHeight_master" version_id="28" version_string="1.0.2b"><![CDATA[Threads Full - Image Height]]></phrase>
    <phrase title="style_property_bdImage_wfThreadsFull_imageWidth_description_master" version_id="28" version_string="1.0.2b"><![CDATA[Enter the image width for thumbnail used in [bd] Widget Framework's Threads widget (full layout). Leave it blank to stretch width.]]></phrase>
    <phrase title="style_property_bdImage_wfThreadsFull_imageWidth_master" version_id="28" version_string="1.0.2b"><![CDATA[Threads Full - Image Width]]></phrase>
    <phrase title="style_property_group_bdImage_cover_master" version_id="30" version_string="1.0.4"><![CDATA[[bd] Image: Cover]]></phrase>
    <phrase title="style_property_group_bdImage_cover_master_desc" version_id="30" version_string="1.0.4"><![CDATA[]]></phrase>
    <phrase title="style_property_group_bdImage_master" version_id="28" version_string="1.0.2b"><![CDATA[[bd] Image]]></phrase>
    <phrase title="style_property_group_bdImage_master_desc" version_id="28" version_string="1.0.2b"><![CDATA[]]></phrase>
  </phrases>
  <route_prefixes/>
  <style_properties>
    <property property_name="bdImage_wfThreadsFull_imageWidth" property_type="scalar" definition="1" group_name="bdImage" title="Threads Full - Image Width" description="Enter the image width for thumbnail used in [bd] Widget Framework's Threads widget (full layout). Leave it blank to stretch width." css_components="" scalar_type="number" scalar_parameters="" display_order="1000" sub_group="wfThreadsFull"><![CDATA[500]]></property>
    <property property_name="bdImage_wfThreadsFull_imageHeight" property_type="scalar" definition="1" group_name="bdImage" title="Threads Full - Image Height" description="Enter the image height for thumbnail used in [bd] Widget Framework's Threads widget (full layout). Leave it blank to stretch height." css_components="" scalar_type="number" scalar_parameters="" display_order="1010" sub_group="wfThreadsFull"><![CDATA[]]></property>
    <property property_name="bdImage_coverPositionContentDirectChild" property_type="scalar" definition="1" group_name="bdImage_cover" title="Positioning: Above Content" description="Cover will span across the entire browser width." css_components="" scalar_type="boolean" scalar_parameters="" display_order="10" sub_group="position"><![CDATA[1]]></property>
    <property property_name="bdImage_coverPositionAboveTopBreadcrumb" property_type="scalar" definition="1" group_name="bdImage_cover" title="Positioning: Content Top" description="Cover will show up at the top of content block (next to sidebar, if available)" css_components="" scalar_type="boolean" scalar_parameters="" display_order="20" sub_group="position"><![CDATA[0]]></property>
    <property property_name="bdImage_cover" property_type="css" definition="1" group_name="bdImage_cover" title="Cover" description="" css_components="text,background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="10" sub_group=""><![CDATA[{"color":"#fff"}]]></property>
    <property property_name="bdImage_coverBg" property_type="css" definition="1" group_name="bdImage_cover" title="Text Container" description="" css_components="text,background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="100" sub_group=""><![CDATA[{"background-color":"rgba(0, 0, 0, 0.25)","font-size":"21px"}]]></property>
    <property property_name="bdImage_coverHidePageElements" property_type="scalar" definition="1" group_name="bdImage_cover" title="Hide Page Elements" description="Enable this option to hide page elements such as the top breadcrumb, title bar, etc." css_components="" scalar_type="boolean" scalar_parameters="" display_order="100" sub_group=""><![CDATA[1]]></property>
    <property property_name="bdImage_coverAvatar" property_type="css" definition="1" group_name="bdImage_cover" title="Avatar" description="" css_components="background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="200" sub_group=""><![CDATA[{"background-color":"@primaryLighterStill","border-radius":"48px","height":"96px","width":"96px"}]]></property>
    <group group_name="bdImage" display_order="9999">
      <title>[bd] Image</title>
      <description></description>
    </group>
    <group group_name="bdImage_cover" display_order="9999">
      <title>[bd] Image: Cover</title>
      <description></description>
    </group>
  </style_properties>
  <templates>
    <template title="bdimage.css" version_id="30" version_string="1.0.4"><![CDATA[.bdImage_lastThreadImage {
	float: left;
	margin-right: 5px;
	width: 30px;
	height: 30px;
}

.bdImage_threadImage { text-align: center; }
	.bdImage_threadImage img { max-width: 100%; }

ul.bdImage_Picker {}
	ul.bdImage_Picker > li {
		display: inline-block;
	}
	ul.bdImage_Picker > li.other {
		display: block;
	}

/* cover */
<xen:set var="$coverAvatarSize">96</xen:set>

<xen:if is="{xen:property bdImage_coverHidePageElements}">
html.bdImage_hasCover .breadBoxTop,
html.bdImage_hasCover .titleBar {
	display: none;
}
</xen:if>

.bdImage_coverContainer {
	margin: 0;
	position: relative;
	text-align: left;
}

.bdImage_coverContainer .coverContent {
	padding-left: {xen:property content.padding-left};
	padding-right: {xen:property content.padding-right};
}

.bdImage_cover {
	{xen:property bdImage_cover}

	overflow: hidden;
	position: relative;
}
	.position-ad_above_top_breadcrumb .bdImage_cover {
		margin-left: {xen:calc '0 - {xen:property content.padding-left}'}px;
		margin-right: {xen:calc '0 - {xen:property content.padding-right}'}px;
	}
	.Sidebar .position-ad_above_top_breadcrumb .bdImage_cover {
		margin-right: 0;
	}
	.bdImage_cover a { color: inherit; }

.bdImage_cover .avatar {
	border-radius: {xen:property bdImage_coverAvatar.border-radius};
	position: absolute;
		bottom: 0;
		left: {xen:calc 'floor({xen:property content.padding-left} / 2)'}px;
}
	.bdImage_cover .avatar img,
	.bdImage_cover .avatar amp-img {
		{xen:property bdImage_coverAvatar}
	}

.bdImage_cover .author .username {
	font-size: {xen:property h1.font-size};
	position: absolute;
		bottom: {xen:calc 'floor({xen:property content.padding-bottom} / 2)'}px;
		left: {xen:calc '{$coverAvatarSize} + {xen:property content.padding-left}'}px;
	text-rendering: optimizelegibility;
	text-shadow: 0 0 3px rgba(0, 0, 0, 0.8);
}

.bdImage_cover .bg {
	{xen:property bdImage_coverBg}

	position: absolute;
		left: 0;
		right: 0;
		top: 0;
}

.bdImage_cover .bg p {
	display: block;
	width: 100%;
}
	.bdImage_coverContainer p.title {
		font-size: 1.3em;
		line-height: 1.4em;
		top: 0;
	}
	.bdImage_cover p.description {
		display: none;
		font-size: 0.6em;
		line-height: 2em;
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
	}
		.bdImage_cover:hover .bg { padding-bottom: 0.2em; }
		.bdImage_cover:hover p.description { display: block; }

.bdImage_cover .cover {
	display: block;
	height: auto;
	margin: 0;
	padding: 0;
	width: 100%;
}

.bdImage_coverContainer > .title { display: none; }
.bdImage_coverContainer.position-ad_above_top_breadcrumb > .title { padding: 0 !important; }

.bdImage_coverContainer .share_bar {
	display: block;
	position: absolute;
		bottom: {xen:property content.padding-bottom};
		right: 0;
	text-align: right;
}
	.bdImage_coverContainer .share_bar .sharePage .shareControl { display: inline-block; float: none; }
	.bdImage_coverContainer .share_bar .textHeading { display: none; }
	
<xen:if is="{xen:property enableResponsive}">
@media (max-width:{xen:property maxResponsiveWideWidth}) {
	.Responsive .position-ad_above_top_breadcrumb .bdImage_cover {
		margin-left: {xen:calc '0 - ceil({xen:property content.padding-left} / 2)'}px;
		margin-right: {xen:calc '0 - ceil({xen:property content.padding-right} / 2)'}px;
	}

	.Responsive .bdImage_coverContainer .coverContent {
		padding-left: {xen:calc 'floor({xen:property content.padding-left} / 2)'}px;
		padding-right: {xen:calc 'floor({xen:property content.padding-right} / 2)'}px;
	}
}

@media (max-width:{xen:property maxResponsiveMediumWidth}) {
	.Responsive .bdImage_cover .avatar img,
	.Responsive .bdImage_cover .avatar amp-img {
		width: {xen:calc 'floor({xen:property bdImage_coverAvatar.width} * 0.6666)'}px;
		height: {xen:calc 'floor({xen:property bdImage_coverAvatar.height} * 0.6666)'}px;
	}

	.Responsive .bdImage_cover .author .username { 
		left: {xen:calc 'floor({xen:property bdImage_coverAvatar.width} * 0.6666) + {xen:property content.padding-left}'}px;
	}

	.bdImage_coverContainer > .title { display: block; }
	.bdImage_cover .bg { display: none; }
	.Responsive .thread-cover-container .share_bar { margin-top: {xen:property content.padding-top}; position: relative; bottom: 0; }
	.Responsive .thread-cover-container .sharePage { display: block; }
}

@media (max-width:{xen:property maxResponsiveNarrowWidth}) {
	.Responsive .bdImage_cover .avatar img,
	.Responsive .bdImage_cover .avatar amp-img {
		width: {xen:calc 'floor({xen:property bdImage_coverAvatar.width} * 0.5)'}px;
		height: {xen:calc 'floor({xen:property bdImage_coverAvatar.height} * 0.5)'}px;
	}

	.Responsive .bdImage_cover .author .username { 
		left: {xen:calc 'floor({xen:property bdImage_coverAvatar.width} * 0.5) + {xen:property content.padding-left}'}px;
	}
}
</xen:if>]]></template>
    <template title="bdimage_grid_inline_css" version_id="19" version_string="0.10.0-dev"><![CDATA[<xen:set var="$gridWidth">{xen:calc '({$widget.options.thumbnail_width} + {$widget.options.gap}) * {$widget.options.grid_columns}'}</xen:set>
<xen:set var="$maxWidthInSidebar">{xen:calc '{xen:property sidebar.width} - {xen:property secondaryContent.padding-left} - {xen:property secondaryContent.padding-right}'}</xen:set>
<xen:container var="$head.{$cssClass}">
<style>
.{$cssClass}
{
	width: {$gridWidth}px;
}
	.{$cssClass} li
	{
		margin-right: {$widget.options.gap}px;
	}

	.{$cssClass} img
	{
		width: {$widget.options.thumbnail_width}px;
		height: {$widget.options.thumbnail_height}px;
	}

<xen:if is="{$widget.options.thumbnail_width} > {$maxWidthInSidebar}">
	.sidebar .{$cssClass}
	{
		width: {xen:calc '({$maxWidthInSidebar} + {$widget.options.gap}) * {$widget.options.grid_columns}'}px;
	}
	
	.sidebar .{$cssClass} img
	{
		width: {$maxWidthInSidebar}px;
		height: {xen:calc 'floor({$maxWidthInSidebar} / {$widget.options.thumbnail_width} * {$widget.options.thumbnail_height})'}px;
	}
</xen:if>

<xen:if is="{xen:property enableResponsive}">
@media (max-width:{xen:property maxResponsiveWideWidth})
{
	.non-sidebar-widget .{$cssClass}
	{
		width: 100%;
	}
		.non-sidebar-widget .{$cssClass} li
		{
			margin-right: 0;
			width: {xen:calc '100 / {$widget.options.grid_columns}'}%;
		}
		.non-sidebar-widget .{$cssClass} img
		{
			width: 100%;
			height: auto;
		}

}
</xen:if>

</style>
</xen:container>]]></template>
    <template title="bdimage_node_forum_last_thread_image" version_id="28" version_string="1.0.2b"><![CDATA[<xen:require css="bdimage.css" />
<img src="{xen:helper bdImage_thumbnail, $forum.bdimage_last_post_image, 48, 48}" class="bdImage_lastThreadImage" />]]></template>
    <template title="bdimage_picker" version_id="30" version_string="1.0.4"><![CDATA[<xen:require css="bdimage.css" />

<xen:set var="$currentImageUrl">{xen:helper bdImage_image, $currentImageData}</xen:set>

<dl class="ctrlUnit">
	<dt>
		<label for="ctrl_bdimage_image">
			{xen:phrase bdimage_thread_image}:
		</label>
	</dt>
	<dd>
		<ul>
			<xen:if is="{$images}">
			<li>
				<ul class="bdImage_Picker">
					<xen:set var="$currentImageFound">0</xen:set>

					<xen:foreach loop="$images" value="$image">
					<xen:set var="$safeUrl">{xen:helper bdImage_safeUrl, $image}</xen:set>
					<xen:if is="{$safeUrl} == {$currentImageUrl}">
						<xen:set var="$currentImageFound">1</xen:set>
					</xen:if>

					<li>
						<label>
							<input type="radio" name="bdimage_image" value="{$safeUrl}"
								   style="height: 48px"
								   {xen:checked '{$safeUrl} == {$currentImageUrl}'}/>
							<img src="{xen:helper bdImage_thumbnail, $image, 48, 48}" width="48" height="48" />
						</label>
					</li>
					</xen:foreach>

					<li class="other">
						<label>
							<input type="radio" name="bdimage_image" value="other"
								   class="Disabler Hider" id="ctrl_bdimage_image_other"
								   {xen:checked '!{$currentImageFound}'} />
							{xen:phrase other}
						</label><br/>
						<br/>
						<div id="ctrl_bdimage_image_other_Disabler">
							<input type="text" name="bdimage_other" placeholder="{xen:phrase image_url}" class="textCtrl"
								   value="{xen:if '!{$currentImageFound}', $currentImageUrl}" />
						</div>
					</li>
				</ul>
			</li>
			<xen:else />
			<li>
				<input type="hidden" name="bdimage_image" value="other" />
				<input type="text" name="bdimage_other" value="{$currentImageUrl}" class="textCtrl" />
			</li>
			</xen:if>
			<li>
				<label>
					<input type="checkbox" name="bdimage_extra_data[is_cover]" value="1" {xen:checked
						   '{xen:helper bdImage_getData, $currentImageData, is_cover}'} />
					{xen:phrase bdimage_is_cover}
				</label>
			</li>
		</ul>

		<input type="hidden" name="bdimage_picker" value="1" />
	</dd>
</dl>

<xen:edithint template="bdimage_picker_simple" />]]></template>
    <template title="bdimage_picker_simple" version_id="30" version_string="1.0.4"><![CDATA[<xen:if is="{$images}">

<xen:set var="$currentImageUrl">{xen:helper bdImage_image, $currentImageData}</xen:set>

<label>
	<xen:if is="{xen:helper bdImage_getData, $currentImageData, is_cover}">
	{xen:phrase bdimage_thread_cover_image}:
	<input type="hidden" name="bdimage_extra_data[is_cover]" value="1" />
	<xen:else />
	{xen:phrase bdimage_thread_image}:
	</xen:if>

	<select {xen:if '{$id}', 'id="{$id}"'} name="bdimage_image" class="textCtrl bdImage_Picker">
		<xen:set var="$currentImageFound">0</xen:set>
		<xen:foreach loop="$images" value="$image">
			<xen:set var="$safeUrl">{xen:helper bdImage_safeUrl, $image}</xen:set>
			<xen:if is="{$safeUrl} == {$currentImageUrl}">
				<xen:set var="$currentImageFound">1</xen:set>
			</xen:if>

			<option value="{$safeUrl}" {xen:selected '{$safeUrl} == {$currentImageUrl}'}>
				{xen:helper bdImage_filename, $safeUrl}
			</option>
		</xen:foreach>

		<xen:if is="{$currentImageFound} == 0">
			<option value="{$currentImage}" selected="selected">
				{xen:helper bdImage_filename, $currentImageUrl}
			</option>
		</xen:if>
	</select>
</label>

<input type="hidden" name="bdimage_picker" value="1" />

</xen:if>]]></template>
    <template title="bdimage_search_result_thread_image" version_id="28" version_string="1.0.2b"><![CDATA[<a href="{xen:link threads, $thread}" class="avatar NoOverlay">
	<img src="{xen:helper bdImage_thumbnail, $thread.bdimage_image, 48, 48}" />
</a>]]></template>
    <template title="bdimage_thread_cover" version_id="30" version_string="1.0.4"><![CDATA[<xen:require css="bdimage.css" />

<xen:set var="$coverTitleEscaped">{$thread.title}</xen:set>
<xen:set var="$coverDescriptionEscaped">{xen:phrase bdimage_discussion_in_x_started_by_y_date_z_replies_m_views_n,
	'forum=<a href="{xen:link forums, $forum}">{$forum.title}</a>',
	'name={xen:helper username, $thread}',
	'date=<a href="{xen:link threads, $bdImage_thread}">{xen:datetime $thread.post_date, html}</a>',
	'replies={xen:number $thread.reply_count}',
	'views={xen:number $thread.view_count}'}</xen:set>

<div class="bdImage_coverContainer position-{$position}">
	<p class="title coverContent">{xen:raw $coverTitleEscaped}</p>
	<div class="bdImage_cover bdImage_threadCover-{$thread.thread_id}">
		<xen:if is="!{$bdCache_isAmp}">
			<xen:set var="$dataUri"><xen:callback class="bdImage_Helper_Image"
			method="getDataUriTransparentAtSameSize">{xen:raw $thread.bdimage_image}</xen:callback></xen:set>
		</xen:if>
		<xen:if is="{$dataUri}">
			<img class="cover" src="{xen:raw $dataUri}"
				 style="background-image: url({xen:helper bdImage_fullSize,
						$thread.bdimage_image}); background-size: cover;" />
		<xen:else />
			<img class="cover" src="{xen:helper bdImage_fullSize, $thread.bdimage_image}" />
		</xen:if>
		<div class="bg coverContent">
			<p class="title">{xen:raw $coverTitleEscaped}</p>
			<p class="description">{xen:raw $coverDescriptionEscaped}</p>
		</div>
		<xen:avatar user="$thread" size="m" img="true" />
		<a class="author" href="{xen:link members, $thread}" title="{$thread.username}">
			<span class="username">{$thread.username}</span>
		</a>
	</div>

	<div class="share_bar">
		<xen:include template="share_page">
			<xen:set var="$url">{xen:link canonical:threads, $thread}</xen:set>
		</xen:include>
	</div>
</div>

<xen:edithint template="PAGE_CONTAINER" />
]]></template>
    <template title="bdimage_thread_list_item_thread_image" version_id="28" version_string="1.0.2b"><![CDATA[<a href="{xen:link threads, $thread}" class="avatar NoOverlay">
	<img src="{xen:helper bdImage_thumbnail, $thread.bdimage_image, 48, 48}" />
</a>]]></template>
    <template title="bdimage_thread_view_open_graph_meta" version_id="30" version_string="1.0.4"><![CDATA[<xen:if is="{xen:helper bdImage_getOption, template, thread_view_open_graph_meta}
	AND !!{xen:helper bdImage_image, $thread.bdimage_image}">
<xen:set var="$width">560</xen:set>
<xen:set var="$height">560</xen:set>
<meta property="og:image" content="{xen:helper bdImage_thumbnail, $thread.bdimage_image, $width, $height}" />
<meta property="og:image:width" content="{$width}" />
<meta property="og:image:height" content="{$height}" />
</xen:if>]]></template>
    <template title="bdimage_wf_widget_threads_full_thread_image" version_id="28" version_string="1.0.2b"><![CDATA[<xen:require css="bdimage.css" />

<div class="bdImage_threadImage">
	<a href="{xen:link threads, $thread}">
		<xen:if is="{xen:property bdImage_wfThreadsFull_imageWidth} AND {xen:property bdImage_wfThreadsFull_imageHeight}">
			<img src="{xen:helper bdImage_thumbnail, $thread.bdimage_image, {xen:property bdImage_wfThreadsFull_imageWidth}, {xen:property bdImage_wfThreadsFull_imageHeight}}" width="{xen:property bdImage_wfThreadsFull_imageWidth}" height="{xen:property bdImage_wfThreadsFull_imageHeight}" />
		<xen:elseif is="{xen:property bdImage_wfThreadsFull_imageWidth}" />
			<img src="{xen:helper bdImage_thumbnail, $thread.bdimage_image, {xen:property bdImage_wfThreadsFull_imageWidth}, sh}" {xen:helper bdImage_imgAttribs, $thread.bdimage_image, {xen:property bdImage_wfThreadsFull_imageWidth}, sh} />
		<xen:elseif is="{xen:property bdImage_wfThreadsFull_imageHeight}" />
			<img src="{xen:helper bdImage_thumbnail, $thread.bdimage_image, {xen:property bdImage_wfThreadsFull_imageHeight}, sw}" {xen:helper bdImage_imgAttribs, $thread.bdimage_image, {xen:property bdImage_wfThreadsFull_imageHeight}, sw} />
		<xen:else />
			<img src="{xen:helper bdImage_thumbnail, $thread.bdimage_image, {xen:helper bdImage_width, $thread.bdimage_image}, sh}" />
		</xen:if>
	</a>
</div>]]></template>
    <template title="bdimage_wf_widget_threads_thread_image" version_id="28" version_string="1.0.2b"><![CDATA[<a href="{xen:link threads, $thread}" class="avatar NoOverlay">
	<img src="{xen:helper bdImage_thumbnail, $thread.bdimage_image, 48, 48}" />
</a>]]></template>
    <template title="bdimage_widget.css" version_id="30" version_string="1.0.4"><![CDATA[.bdImage_Widget_Slider_Container
{
	overflow: hidden;
}
	.bdImage_Widget_Slider_Container a
	{
		display: block;
	}

	.bdImage_Widget_Slider_Container .owl-carousel img
	{
		height: auto;
		width: 100%;
	}

	.bdImage_Widget_Slider_Container .bx-wrapper .bx-viewport
	{
		border: 0;
	}

	.bdImage_Widget_Slider_Container .bx-wrapper img
	{
		width: 100%;
	}

.bdImage_Widget_Items
{
}
{xen:helper clearfix, '.bdImage_Widget_Items'}
	.bdImage_Widget_Items > li
	{
		float: left;
	}

.bdImage_WidgetRenderer_ThreadsTwo
	{
		display: block;
	}
	
	.bdImage_WidgetRenderer_ThreadsTwo .bdImage_Feature
	{
		display: block;
		float: left;
		overflow: hidden;
	}

		.bdImage_WidgetRenderer_ThreadsTwo .bdImage_Feature .text .title
		{
			width: 100%;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}

		.bdImage_WidgetRenderer_ThreadsTwo .bdImage_Feature .text .body
		{
			text-align: justify;
		}
	
	.bdImage_WidgetRenderer_ThreadsTwo .bdImage_Small
	{
		display: block;
		float: none;
		overflow: hidden;
	}
			
	.bdImage_WidgetRenderer_ThreadsTwo .bdImage_Small.bdImage_SmallWithThumbnail .thumbnail
	{
		display: block;
		float: left;
	}
	
	.{$cssClass} .bdImage_Small.bdImage_SmallWithThumbnail .text
	{
		display: block;
		float: none;
	}
	{xen:helper clearfix, '.{$cssClass} .bdImage_Small.bdImage_SmallWithThumbnail li'}
	
	.bdImage_WidgetRenderer_ThreadsTwo .bdImage_Small li
	{
		border-bottom: 1px dashed {xen:property primaryLighterStill};
		display: block;
		float: none;
		overflow: hidden;
	}
	.bdImage_WidgetRenderer_ThreadsTwo .bdImage_Small li:last-child { border-bottom: 0; }

.bdImage_Widget_Grid_Container
{
	overflow: hidden;
	overflow-x: scroll;
	width: 100%;
}
ul.bdImage_Widget_Grid
{
	list-style: none;
	margin: 0;
	padding: 0;
}
{xen:helper clearfix, 'ul.bdImage_Widget_Grid'}
	.bdImage_Widget_Grid li
	{
		float: left;
	}
	.bdImage_Widget_Grid a
	{
		display: block;
	}
]]></template>
    <template title="bdimage_widget_attachments_grid" version_id="19" version_string="0.10.0-dev"><![CDATA[<xen:if hascontent="true">
	<xen:set var="$cssClass">{xen:helper bdImage_Widget_Slider_CssClass, $widget}</xen:set>
	<xen:include template="bdimage_grid_inline_css" />
	<xen:require css="bdimage_widget.css" />

	<div class="bdImage_Widget_Grid_Container">
		<ul class="bdImage_Widget_Grid {$cssClass}">
			<xen:contentcheck>
				<xen:foreach loop="$posts" value="$post">
					<li>
						<a href="{xen:link posts, $post}" title="{$post.title}" class="Tooltip">
							<img src="{xen:helper bdImage_thumbnail,
								$post.attachmentUri,
								{$widget.options.thumbnail_width},
								{$widget.options.thumbnail_height}}" />
						</a>
					</li>
				</xen:foreach>
			</xen:contentcheck>
		</ul>
	</div>
</xen:if>]]></template>
    <template title="bdimage_widget_slider_threads" version_id="30" version_string="1.0.4"><![CDATA[<xen:if hascontent="true">	
<xen:require css="bdimage_widget.css" />
<xen:require js="js/bdImage/widget_slider.js" />
<xen:require js="js/bdImage/owl.carousel/owl.carousel{xen:if '!{$debugMode}', .min}.js" />
<xen:set var="$cssClass">{xen:helper bdImage_Widget_Slider_CssClass, $widget}</xen:set>
<xen:container var="$head.{$cssClass}">
<link rel="stylesheet" href="{xen:helper javascriptUrl, 'js/bdImage/owl.carousel/assets/owl.carousel{xen:if '!{$debugMode}', .min}.css'}">
<link rel="stylesheet" href="{xen:helper javascriptUrl, 'js/bdImage/owl.carousel/assets/owl.theme.default{xen:if '!{$debugMode}', .min}.css'}">
</xen:container>

<div class="bdImage_Widget_Slider_Container bdImage_Widget_SliderThreads_Container {$cssClass}"
	 data-layout="owlcarousel"
	 data-layout-options='{xen:helper json, {xen:array
						  'items={$widget.options.visible_count}',
						  'margin={$widget.options.gap}'}}'>
	<ul class="bdImage_Widget_Slider_Items">
		<xen:contentcheck>
		<xen:include template="bdimage_widget_thread_item">
			<xen:set var="$bdImageWidgetThread_showTitle">{$widget.options.title}</xen:set>
		</xen:include>
		</xen:contentcheck>
	</ul>
</div>
</xen:if>

<xen:edithint template="bdimage_widget_slider_threads_2" />]]></template>
    <template title="bdimage_widget_slider_threads_2" version_id="30" version_string="1.0.4"><![CDATA[<xen:if hascontent="true">
<xen:require css="bdimage_widget.css" />
<xen:require js="js/bdImage/widget_slider.js" />
<xen:require js="js/bdImage/jquery.bxslider/jquery.bxslider{xen:if '!{$debugMode}', .min}.js" />
<xen:set var="$cssClass">{xen:helper bdImage_Widget_Slider_CssClass, $widget}</xen:set>
<xen:container var="$head.{$cssClass}">
<link rel="stylesheet" href="{xen:helper javascriptUrl, js/bdImage/jquery.bxslider/jquery.bxslider.css}">
</xen:container>

<xen:require css="bdimage_widget.css" />
<xen:require js="js/bdImage/widget_slider.js" />
<xen:require js="js/bdImage/jquery.bxslider/jquery.bxslider.js" />

<div class="bdImage_Widget_Slider_Container bdImage_Widget_SliderThreads2_Container {$cssClass}"
	 style="max-width: {$widget.options.thumbnail_width}px;"
	 data-layout="bxslider"
	 data-layout-options='{xen:helper json, {xen:array
						  'auto={$widget.options.auto}',
						  'pager={$widget.options.pager}',
						  'captions={$widget.options.title}'}}'>
	<ul class="bdImage_Widget_Slider_Items">
		<xen:contentcheck>
		<xen:include template="bdimage_widget_thread_item">
			<xen:set var="$bdImageWidgetThread_showImgTitle">{$widget.options.title}</xen:set>
		</xen:include>
		</xen:contentcheck>
	</ul>
</div>
</xen:if>]]></template>
    <template title="bdimage_widget_threads" version_id="26" version_string="1.0.1-dev"><![CDATA[<xen:if hascontent="true">
	<xen:set var="$cssClass">{xen:helper bdImage_Widget_Slider_CssClass, $widget}</xen:set>
	<xen:container var="$head.{$cssClass}">
<style>
.{$cssClass}
{
	overflow-x: scroll;
	overflow-y: hidden;
	width: 100%;
}
	.{$cssClass} ul.bdImage_Widget_Items > li
	{
		padding-right: {$widget.options.gap}px;
		width: {$widget.options.thumbnail_width}px;
	}
		.{$cssClass} ul.bdImage_Widget_Items > li:last-child
		{
			padding-right: 0;
		}
	
.non-sidebar-widget .{$cssClass}
{
	overflow-x: auto;

}
	.{$cssClass} ul.bdImage_Widget_Items
	{
		width: {xen:calc '{$widget.options.thumbnail_width}*{xen:count $threads} + {$widget.options.gap}*({xen:count $threads} - 1)'}px;		
	}

</style>
	</xen:container>
	
	<xen:require css="bdimage_widget.css" />

    <div class="{$cssClass}">
        <ul class="bdImage_Widget_Items">
            <xen:contentcheck>
				<xen:if is="{$new}">
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$new" to="$threads" />
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				<xen:elseif is="{$recent}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$recent" to="$threads" />
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				<xen:elseif is="{$popular}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$popular" to="$threads" />
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				<xen:elseif is="{$mostReplied}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$mostReplied" to="$threads" />
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				<xen:elseif is="{$mostLiked}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$mostLiked" to="$threads" />
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				<xen:elseif is="{$polls}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$polls" to="$threads" />
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				<xen:elseif is="{$threads}" />
					<xen:include template="bdimage_widget_thread_item">
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				</xen:if>
            </xen:contentcheck>
        </ul>
    </div>
</xen:if>]]></template>
    <template title="bdimage_widget_threads_grid" version_id="19" version_string="0.10.0-dev"><![CDATA[<xen:if hascontent="true">
	<xen:set var="$cssClass">{xen:helper bdImage_Widget_Slider_CssClass, $widget}</xen:set>
	<xen:include template="bdimage_grid_inline_css" />
	<xen:require css="bdimage_widget.css" />

	<div class="bdImage_Widget_Grid_Container">
		<ul class="bdImage_Widget_Grid {$cssClass}">
			<xen:contentcheck>
				<xen:foreach loop="$threads" value="$thread">
					<li>
						<a href="{xen:link threads, $thread}" title="{$thread.title}" class="Tooltip">
							<img src="{xen:helper bdImage_thumbnail,
								$thread.bdimage_image,
								{$widget.options.thumbnail_width},
								{$widget.options.thumbnail_height}}" />
						</a>
					</li>
				</xen:foreach>
			</xen:contentcheck>
		</ul>
	</div>
</xen:if>]]></template>
    <template title="bdimage_widget_threads_two" version_id="23" version_string="1.0.0b"><![CDATA[<xen:set var="$cssClass">bdImage_WidgetRenderer_ThreadsTwo-{$widget.widget_id}</xen:set>
<xen:container var="$head.{$cssClass}">
<style>
	.{$cssClass}
	{
		min-width: {xen:calc '{$widget.options.feature_width} + {$widget.options.column_gap} + {$widget.options.small_column_width}'}px;
	}
	{xen:helper clearfix, '.{$cssClass}'}

	.{$cssClass} .bdImage_Feature
	{
		width: {$widget.options.feature_width}px;
	}

	.{$cssClass} .bdImage_Small
	{
		margin-left: {xen:calc '{$widget.options.feature_width} + {$widget.options.column_gap}'}px;
		min-width: {$widget.options.small_column_width}px;
	}
			
	<xen:if is="{$widget.options.small_size}">
			.{$cssClass} .bdImage_Small .text
			{
				margin-left: {xen:calc '{$widget.options.small_size} + {$widget.options.column_gap} / 2'}px;
				min-width: {xen:calc '{$widget.options.small_column_width} - {$widget.options.small_size} - {$widget.options.column_gap}'}px;
				height: {$widget.options.small_size}px;
			}
			{xen:helper clearfix, '.{$cssClass} .bdImage_Small li'}
	</xen:if>
	
	.{$cssClass} .bdImage_Small li
	{
		margin-bottom: 5px;
		min-width: {$widget.options.small_column_width}px;
		
		<xen:if is="{$widget.options.small_size}">
			<xen:comment>need anything here?</xen:comment>
		<xen:else />
			min-height: {xen:calc '{$widget.options.feature_height} / ({$widget.options.limit} - 1) - {$widget.options.row_gap}'}px;
		</xen:if>
	}
</style>
</xen:container>

<xen:require css="bdimage_widget.css" />

<div class="bdImage_WidgetRenderer_ThreadsTwo {$cssClass}">
	<xen:foreach loop="$threads" i="$i" value="$firstThread"><xen:if is="{$i} == 1">
	<div class="bdImage_Feature">
		<div class="thumbnail">
			<a href="{xen:link threads, $firstThread}">
				<img src="{xen:helper bdImage_thumbnail,
					$firstThread.bdimage_image,
					{$widget.options.feature_width},
					{$widget.options.feature_height}}" {xen:helper bdImage_imgAttribs,
					$firstThread.bdimage_image,
					{$widget.options.feature_width},
					{$widget.options.feature_height}} />
			</a>
		</div>
		<div class="text">
			<p class="title"><a href="{xen:link threads, $firstThread}">{$firstThread.title}</a></p>

			<xen:if is="{$widget.options.feature_body} AND {$firstThread.message}">
				<p class="body">{xen:helper snippet, $firstThread.message, {$widget.options.feature_body}}</p>
			</xen:if>
		</div>
	</div>
	</xen:if></xen:foreach>
	<div class="bdImage_Small {xen:if '{$widget.options.small_size}', 'bdImage_SmallWithThumbnail'}">
		<ul>
		<xen:foreach loop="$threads" i="$i" value="$thread">
			<xen:if is="{$i} > 1">
				<li>
					<xen:if is="{$widget.options.small_size}">
						<div class="thumbnail">
							<a href="{xen:link threads, $thread}">
								<img src="{xen:helper bdImage_thumbnail,
									$thread.bdimage_image,
									{$widget.options.small_size},
									{$widget.options.small_size}}" {xen:helper bdImage_imgAttribs,
									$thread.bdimage_image,
									{$widget.options.small_size},
									{$widget.options.small_size}} />
							</a>
						</div>
					</xen:if>
					<div class="text"><a href="{xen:link threads, $thread}">{xen:helper snippet, $thread.title, $widget.options.small_title}</a></div>
				</li>
			</xen:if>
		</xen:foreach>
		</ul>
	</div>
</div>]]></template>
    <template title="bdimage_widget_thread_item" version_id="30" version_string="1.0.4"><![CDATA[<xen:foreach loop="$threads" value="$thread">
<xen:if is="{$thread.bdimage_image}">
<li>
	<a href="{xen:link threads, $thread}"
		<xen:if is="{$bdImageWidgetThread_showToolTip}">
		class="Tooltip" title="{$thread.title} {xen:phrase by} {$thread.username}"
		data-offsetx="10" data-offsety="{xen:calc '5 - {$widget.options.thumbnail_height}'}"
		</xen:if>
		>
		<img src="{xen:helper bdImage_thumbnail,
			$thread.bdimage_image,
			{$widget.options.thumbnail_width},
			{$widget.options.thumbnail_height}}" {xen:helper bdImage_imgAttribs,
			$thread.bdimage_image,
			{$widget.options.thumbnail_width},
			{$widget.options.thumbnail_height}}
			{xen:if '{$bdImageWidgetThread_showImgTitle}', 'title="{xen:helper snippet, $thread.title, $bdImageWidgetThread_showImgTitle}"'}/>
	</a>

	<xen:if is="{$bdImageWidgetThread_showTitle}">
		<a href="{xen:link threads, $thread}">
			{xen:helper snippet, $thread.title, $bdImageWidgetThread_showTitle}
		</a>
	</xen:if>
</li>
</xen:if>
</xen:foreach>]]></template>
  </templates>
  <public_template_modifications>
    <modification template="PAGE_CONTAINER" modification_key="bdimage_cover_ad_above_top_breadcrumb" description="Render cover at &quot;ad_above_top_breadcrumb&quot;." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:include template="ad_above_top_breadcrumb" />]]></find>
      <replace><![CDATA[$0

<xen:if is="{$bdImage_threadWithCover}
			&& {xen:property bdImage_coverPositionAboveTopBreadcrumb}">
	<xen:include template="bdimage_thread_cover">
		<xen:set var="$position">ad_above_top_breadcrumb</xen:set>
		<xen:map from="$bdImage_threadWithCover" to="$thread" />
		<xen:map from="$bdImage_threadWithCover.forum" to="$forum" />
	</xen:include>
</xen:if>]]></replace>
    </modification>
    <modification template="PAGE_CONTAINER" modification_key="bdimage_cover_html_class" description="Inject &lt;html class /&gt;" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#<html[^>]+class="#]]></find>
      <replace><![CDATA[$0{xen:if $bdImage_threadWithCover, 'bdImage_hasCover '}]]></replace>
    </modification>
    <modification template="PAGE_CONTAINER" modification_key="bdimage_cover_page_container_content_direct_child" description="Render cover at &quot;page_container_content_direct_child&quot;." execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#<div id="content"[^>]+>#]]></find>
      <replace><![CDATA[$0

<xen:if is="{$bdImage_threadWithCover}
			&& {xen:property bdImage_coverPositionContentDirectChild}">
	<xen:include template="bdimage_thread_cover">
		<xen:set var="$position">page_container_content_direct_child</xen:set>
		<xen:map from="$bdImage_threadWithCover" to="$thread" />
		<xen:map from="$bdImage_threadWithCover.forum" to="$forum" />
	</xen:include>
</xen:if>]]></replace>
    </modification>
    <modification template="node_forum_level_2" modification_key="bdimage_node_forum_last_thread_image" description="Template Modification: Last Thread Image in Forum List." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:elseif is="{$forum.lastPost.date}" />]]></find>
      <replace><![CDATA[$0

<xen:if is="{xen:helper bdImage_getOption, template, node_forum_last_thread_image} AND !!{xen:helper bdImage_image, $forum.bdimage_last_post_image}">

	<xen:include template="bdimage_node_forum_last_thread_image" />

</xen:if>]]></replace>
    </modification>
    <modification template="open_graph_meta" modification_key="bdimage_open_graph_meta_insert" description="Insert our image(s)." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[{xen:raw $ogExtraHtml}]]></find>
      <replace><![CDATA[$0{xen:raw $_bdImage_ogExtraHtml}]]></replace>
    </modification>
    <modification template="open_graph_meta" modification_key="bdimage_open_graph_meta_remove" description="Remove default images if ours is found." execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#<meta property="og:image".+?/>#]]></find>
      <replace><![CDATA[<xen:if is="!{$_bdImage_ogExtraHtml}">$0</xen:if>]]></replace>
    </modification>
    <modification template="search_result_thread" modification_key="bdimage_search_result_thread_image" description="Template Modification: Thread Image in search result." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:avatar user="$thread" size="s" img="true" />]]></find>
      <replace><![CDATA[<xen:if is="{xen:helper bdImage_getOption, template, search_result_thread_image} AND !!{xen:helper bdImage_image, $thread.bdimage_image}">

	<xen:include template="bdimage_search_result_thread_image" />

<xen:else />
	$0
</xen:if>]]></replace>
    </modification>
    <modification template="thread_edit" modification_key="bdimage_thread_edit_picker" description="Insert image picker into thread_edit form." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<dl class="ctrlUnit submitUnit">]]></find>
      <replace><![CDATA[<xen:if is="{xen:helper bdImage_getOption, template, picker}">
<xen:include template="bdimage_picker">
	<xen:map from="$bdImage_images" to="$images" />
	<xen:set var="$currentImageData">{xen:raw $thread.bdimage_image}</xen:set>
</xen:include>
</xen:if>

$0]]></replace>
    </modification>
    <modification template="thread_list_item_edit" modification_key="bdimage_thread_list_item_edit_picker" description="Insert image picker into thread_list_item_edit form." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<div class="buttons editBlock">]]></find>
      <replace><![CDATA[<xen:if hascontent="true">
<div class="bdImage_imageEdit editBlock">
	<xen:contentcheck>
	<xen:if is="{xen:helper bdImage_getOption, template, picker}">
	<xen:include template="bdimage_picker_simple">
		<xen:map from="$bdImage_images" to="$images" />
		<xen:set var="$currentImageData">{xen:raw $thread.bdimage_image}</xen:set>
	</xen:include>
	</xen:if>
	</xen:contentcheck>
</div>
</xen:if>


$0]]></replace>
    </modification>
    <modification template="thread_list_item" modification_key="bdimage_thread_list_item_thread_image" description="Template Modification: Thread Image in Thread List." execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#(<span class="avatarContainer">[^<]+)(<xen:avatar.+/>)#]]></find>
      <replace><![CDATA[$1

<xen:if is="{xen:helper bdImage_getOption, template, thread_list_item_thread_image} AND !!{xen:helper bdImage_image, $thread.bdimage_image}">

	<xen:include template="bdimage_thread_list_item_thread_image" />

<xen:else />
	$2
</xen:if>]]></replace>
    </modification>
    <modification template="thread_view" modification_key="bdimage_thread_view_open_graph_meta" description="Template Modification: Open Graph Image in Thread View." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:include template="open_graph_meta">]]></find>
      <replace><![CDATA[$0

<xen:set var="$_bdImage_ogExtraHtml"><xen:include template="bdimage_thread_view_open_graph_meta" /></xen:set>]]></replace>
    </modification>
    <modification template="wf_widget_threads_thread_full" modification_key="bdimage_wf_widget_threads_full_thread_image" description="Template Modification: Thread Image in [bd] Widget Framework Threads widget (full layout)." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<blockquote class="messageText ugc baseHtml">]]></find>
      <replace><![CDATA[$0

<xen:if is="{xen:helper bdImage_getOption, template, wf_widget_threads_thread_image} AND !!{xen:helper bdImage_image, $thread.bdimage_image}">

	<xen:include template="bdimage_wf_widget_threads_full_thread_image" />

</xen:if>]]></replace>
    </modification>
    <modification template="wf_widget_threads_thread_sidebar" modification_key="bdimage_wf_widget_threads_thread_image" description="Template Modification: Thread Image in [bd] Widget Framework Threads widget." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:avatar user="$thread" size="s" img="true" />]]></find>
      <replace><![CDATA[<xen:if is="{xen:helper bdImage_getOption, template, wf_widget_threads_thread_image} AND !!{xen:helper bdImage_image, $thread.bdimage_image}">

	<xen:include template="bdimage_wf_widget_threads_thread_image" />

<xen:else />
	$0
</xen:if>]]></replace>
    </modification>
  </public_template_modifications>
  <bb_code_media_sites/>
  <bb_codes/>
</addon>
