<?xml version="1.0" encoding="utf-8"?>
<addon addon_id="bdImage" title="[bd] Image" version_string="0.9-dev" version_id="12" url="" install_callback_class="bdImage_Installer" install_callback_method="install" uninstall_callback_class="bdImage_Installer" uninstall_callback_method="uninstall">
  <admin_navigation/>
  <admin_permissions/>
  <admin_style_properties/>
  <admin_templates>
    <template title="bdimage_widget_options_slider_threads"><![CDATA[<xen:include template="wf_widget_options_threads" />

<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_width}" name="{$namePrefix}thumbnail_width" value="{xen:if 'isset({$options.thumbnail_width})', {$options.thumbnail_width}, 100}" min="1" step="50" />
<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_height}" name="{$namePrefix}thumbnail_height" value="{xen:if 'isset({$options.thumbnail_height})', {$options.thumbnail_height}, 100}" min="1" step="50" />
<xen:spinboxunit label="{xen:phrase bdimage_gap}" name="{$namePrefix}gap" value="{xen:if 'isset({$options.gap})', {$options.gap}, 10}" min="1" step="10" />
<xen:spinboxunit label="{xen:phrase bdimage_visible_count}" name="{$namePrefix}visible_count" value="{xen:if 'isset({$options.visible_count})', {$options.visible_count}, 1}" min="1" />]]></template>
    <template title="bdimage_widget_options_threads"><![CDATA[<xen:include template="wf_widget_options_threads" />

<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_width}" name="{$namePrefix}thumbnail_width" value="{xen:if 'isset({$options.thumbnail_width})', {$options.thumbnail_width}, 100}" min="1" step="50" />
<xen:spinboxunit label="{xen:phrase bdimage_thumbnail_height}" name="{$namePrefix}thumbnail_height" value="{xen:if 'isset({$options.thumbnail_height})', {$options.thumbnail_height}, 100}" min="1" step="50" />
<xen:spinboxunit label="{xen:phrase bdimage_gap}" name="{$namePrefix}gap" value="{xen:if 'isset({$options.gap})', {$options.gap}, 10}" min="1" step="10" />]]></template>
  </admin_templates>
  <admin_template_modifications/>
  <code_events/>
  <code_event_listeners>
    <listener event_id="file_health_check" execute_order="10" callback_class="bdImage_Listener" callback_method="file_health_check" active="1" hint="" description=""/>
    <listener event_id="init_dependencies" execute_order="10" callback_class="bdImage_Listener" callback_method="init_dependencies" active="1" hint="" description=""/>
    <listener event_id="load_class_controller" execute_order="10" callback_class="bdImage_Listener" callback_method="load_class" active="1" hint="" description=""/>
    <listener event_id="load_class_datawriter" execute_order="10" callback_class="bdImage_Listener" callback_method="load_class" active="1" hint="" description=""/>
    <listener event_id="load_class_model" execute_order="10" callback_class="bdImage_Listener" callback_method="load_class" active="1" hint="" description=""/>
    <listener event_id="widget_framework_ready" execute_order="10" callback_class="bdImage_Listener" callback_method="widget_framework_ready" active="1" hint="" description=""/>
  </code_event_listeners>
  <cron/>
  <email_templates/>
  <email_template_modifications/>
  <optiongroups/>
  <permissions>
    <permission_groups/>
    <permissions/>
    <interface_groups/>
  </permissions>
  <phrases>
    <phrase title="bdimage_gap" version_id="10" version_string="0.9-dev"><![CDATA[Gap (between thumbnails)]]></phrase>
    <phrase title="bdimage_thumbnail_height" version_id="10" version_string="0.9-dev"><![CDATA[Thumbnail Height]]></phrase>
    <phrase title="bdimage_thumbnail_width" version_id="10" version_string="0.9-dev"><![CDATA[Thumbnail Width]]></phrase>
    <phrase title="bdimage_visible_count" version_id="10" version_string="0.9-dev"><![CDATA[Visible Thumbnails]]></phrase>
  </phrases>
  <route_prefixes/>
  <style_properties/>
  <templates>
    <template title="bdimage_widget.css" version_id="12" version_string="0.9-dev"><![CDATA[.bdImage_Widget_Slider_Container
{
	margin-left: auto;
	margin-right: auto;
	overflow: hidden;
}

.bdImage_Widget_Items
{
}
{xen:helper clearfix, '.bdImage_Widget_Items'}
	.bdImage_Widget_Items > li
	{
		float: left;
	}]]></template>
    <template title="bdimage_widget_slider_threads" version_id="12" version_string="0.9-dev"><![CDATA[<xen:if hascontent="true">
	<xen:set var="$cssClass">{xen:helper bdImage_Widget_Slider_CssClass, $widget}</xen:set>
	<xen:container var="$head.{$cssClass}">
<style>
.{$cssClass}
{
	width: {xen:calc '{$widget.options.thumbnail_width}*{$widget.options.visible_count} + {$widget.options.gap}*({$widget.options.visible_count}-1)'}px;
}
.{$cssClass} ul.bdImage_Widget_Slider_Items > li
{
	padding-right: {$widget.options.gap}px;
	width: {$widget.options.thumbnail_width}px;
}
</style>
	</xen:container>
	
	<xen:require css="bdimage_widget.css" />
	<xen:require js="js/bdImage/widget_slider.js" />
	<xen:require js="js/bdImage/jquery.jcarousel.js" />

    <div class="bdImage_Widget_Slider_Container bdImage_Widget_SliderThreads_Container {$cssClass}">
        <ul class="bdImage_Widget_Slider_Items">
            <xen:contentcheck>
				<xen:if is="{$new}">
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$new" to="$threads" />
					</xen:include>
				<xen:elseif is="{$recent}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$recent" to="$threads" />
					</xen:include>
				<xen:elseif is="{$popular}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$popular" to="$threads" />
					</xen:include>
				<xen:elseif is="{$mostReplied}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$mostReplied" to="$threads" />
					</xen:include>
				<xen:elseif is="{$mostLiked}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$mostLiked" to="$threads" />
					</xen:include>
				<xen:elseif is="{$polls}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$polls" to="$threads" />
					</xen:include>
				<xen:elseif is="{$threads}" />
					<xen:include template="bdimage_widget_thread_item" />
				</xen:if>
            </xen:contentcheck>
        </ul>
    </div>
</xen:if>]]></template>
    <template title="bdimage_widget_threads" version_id="12" version_string="0.9-dev"><![CDATA[<xen:if hascontent="true">
	<xen:set var="$cssClass">{xen:helper bdImage_Widget_Slider_CssClass, $widget}</xen:set>
	<xen:container var="$head.{$cssClass}">
<style>
.{$cssClass}
{
	width: {xen:calc '{$widget.options.thumbnail_width}*{$widget.options.visible_count} + {$widget.options.gap}*({$widget.options.visible_count}-1)'}px;
}
.{$cssClass} ul.bdImage_Widget_Items > li
{
	padding-right: {$widget.options.gap}px;
	width: {$widget.options.thumbnail_width}px;
}
</style>
	</xen:container>
	
	<xen:require css="bdimage_widget.css" />

    <div class="{$cssClass}">
        <ul class="bdImage_Widget_Items">
            <xen:contentcheck>
				<xen:if is="{$new}">
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$new" to="$threads" />
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				<xen:elseif is="{$recent}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$recent" to="$threads" />
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				<xen:elseif is="{$popular}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$popular" to="$threads" />
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				<xen:elseif is="{$mostReplied}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$mostReplied" to="$threads" />
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				<xen:elseif is="{$mostLiked}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$mostLiked" to="$threads" />
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				<xen:elseif is="{$polls}"/>
					<xen:include template="bdimage_widget_thread_item">
						<xen:map from="$polls" to="$threads" />
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				<xen:elseif is="{$threads}" />
					<xen:include template="bdimage_widget_thread_item">
						<xen:set var="$bdImageWidgetThread_showToolTip">1</xen:set>
					</xen:include>
				</xen:if>
            </xen:contentcheck>
        </ul>
    </div>
</xen:if>]]></template>
    <template title="bdimage_widget_thread_item" version_id="12" version_string="0.9-dev"><![CDATA[<xen:foreach loop="$threads" value="$thread">
	<xen:if is="{$thread.bdimage_image}">
		<li>
			<a href="{xen:link threads, $thread}"
				<xen:if is="{$bdImageWidgetThread_showToolTip}">
				class="Tooltip" title="{$thread.title} {xen:phrase by} {$thread.username}"
				data-offsetx="10" data-offsety="{xen:calc '5 - {$widget.options.thumbnail_height}'}"
				</xen:if>
				>
				<img src="{xen:helper bdImage_thumbnail,
					$thread.bdimage_image,
					{$widget.options.thumbnail_width},
					{$widget.options.thumbnail_height}}" {xen:helper bdImage_imgAttribs,
					$thread.bdimage_image,
					{$widget.options.thumbnail_width},
					{$widget.options.thumbnail_height}} />
			</a>
		</li>
	</xen:if>
</xen:foreach>]]></template>
  </templates>
  <public_template_modifications/>
  <bb_code_media_sites/>
</addon>
